{% extends "base.html" %}
{% block title %}Início{% endblock %}

{% block content %}
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="jumbotron text-center bg-light mb-5">
        <h1 class="display-4">Bem-vindo à Ikigai Eventos</h1>
        <p class="lead">O seu propósito em forma de evento. Conectamos pessoas, paixões e conhecimento.</p>
        <hr class="my-4">
        <p>Explore os nossos próximos eventos e encontre o seu lugar na nossa comunidade.</p>
        <a class="btn btn-primary btn-lg" href="#eventos" role="button">Ver Eventos</a>
    </div>
    <div id="sobre" class="mb-5">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <h2 class="mb-4">Sobre a Ikigai</h2>
                <p class="lead" style="line-height: 1.8;">
                    [Substitua este texto pela descrição da sua empresa. Fale sobre o que é "Ikigai" para vocês, a vossa
                    missão de organizar eventos com propósito e como vocês ajudam a vossa comunidade a encontrar paixão
                    e conhecimento. Descreva o tipo de eventos que vocês promovem e o que os torna especiais.]
                </p>
            </div>
        </div>
    </div>

    <h1 class="mb-4 text-center" id="eventos">Próximos Eventos</h1>
    {% if eventos %}
        {% for evento in eventos %}
            <div class="evento card mb-4">
                <div class="card-body">
                    <div class="row">
                        {% if evento.imagem_palestrante %}
                            <div class="col-md-3 text-center">
                                <img src="{{ evento.imagem_palestrante }}" alt="Foto de {{ evento.palestrante }}"
                                     class="img-fluid rounded-circle" style="max-width: 150px;">
                            </div>
                        {% endif %}

                        <div class="col-md-{{ '9' if evento.imagem_palestrante else '12' }}">
                            <h2 class="card-title">{{ evento.nome_evento }}</h2>
                            {% if evento.palestrante %}
                                <p><strong>Palestrante:</strong> {{ evento.palestrante }}</p>
                            {% endif %}
                            <p><strong>Data e Hora:</strong> {{ evento.data_hora_evento.strftime('%d/%m/%Y às %H:%M') }}
                            </p>
                            <a href="{{ url_for('public.inscrever_evento', evento_id=evento.id) }}"
                               class="inscricao-link btn btn-success mt-2">Inscrever-se</a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p class="sem-eventos">Nenhum evento programado no momento. Volte em breve!</p>
    {% endif %}
{% endblock %}